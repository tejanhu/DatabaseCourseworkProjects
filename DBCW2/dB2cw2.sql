      SET TERMOUT ON
      DROP TABLE GRADEREPORT;
      DROP TABLE STUDENT;
      DROP TABLE DEGREE_CLASS ;	
      DROP TABLE COURSEWORK_MARKS;	
      DROP TABLE COURSEWORK;	
		
      DROP TABLE LECTURER;
      DROP TABLE EXAM_DET;
      DROP TABLE EXAM;
     			
      DROP TABLE SUBINMOD;
      DROP TABLE MODULE;
      DROP TABLE SUBJECT;
      DROP TABLE SEM_YEAR;			
      DROP TABLE YEAR;			
     			
     			
     
      DROP TABLE QUESTIONS;
      
      
      			
      DROP TABLE STAFF;			
      DROP TABLE DEPT;			
  				
    			
   			
      SET TERMOUT ON															





	CREATE TABLE DEGREE_CLASS(
	DEGREEID NUMBER (10) NOT NULL PRIMARY KEY,
	DEGREECLASS VARCHAR (10) NOT NULL
	);
	
	CREATE TABLE MODULE(
	MODNUM NUMBER (10) NOT NULL PRIMARY KEY ,
	MODNAME VARCHAR (10) NOT NULL
	);	



	CREATE TABLE SUBJECT(
	SUBJECTID NUMBER (10) NOT NULL PRIMARY KEY,
	SUBJECTNAME VARCHAR (500)NOT NULL
	);

	
	
	CREATE TABLE LECTURER(
	LID NUMBER (10) NOT NULL PRIMARY KEY,
	LNAME VARCHAR (10) NOT NULL,
	MODNUM NUMBER(10) NOT NULL,
        FOREIGN KEY (MODNUM) REFERENCES MODULE(MODNUM)
	);
	
	CREATE TABLE YEAR(
	YID NUMBER (10) NOT NULL PRIMARY KEY ,       
	YEAR VARCHAR (10) NOT NULL
	);


	CREATE TABLE SEM_YEAR(
	SYID NUMBER (10) NOT NULL PRIMARY KEY ,
	SEMESTER VARCHAR (10) NOT NULL,
	YID NUMBER (10) NOT NULL,
	FOREIGN KEY (YID) REFERENCES YEAR(YID)
	);

	
	CREATE TABLE STUDENT(
	STUDENTID NUMBER (10) NOT NULL PRIMARY KEY,
	STUDENTNAME VARCHAR (10) NOT NULL,
	DEGREEID NUMBER (10) ,
	SUBJECTID NUMBER (10),
  	FOREIGN KEY (DEGREEID) REFERENCES DEGREE_CLASS(DEGREEID),
	FOREIGN KEY (SUBJECTID) REFERENCES SUBJECT(SUBJECTID)
	);

	
	CREATE TABLE EXAM(
	EXAMID NUMBER (10) NOT NULL PRIMARY KEY,
	MODNUM NUMBER (10) NOT NULL,
	SYID NUMBER (10) NOT NULL,
	FOREIGN KEY (MODNUM) REFERENCES MODULE(MODNUM),
	FOREIGN KEY (SYID) REFERENCES SEM_YEAR(SYID)
	);

	CREATE TABLE QUESTIONS(
	QID NUMBER (10) NOT NULL PRIMARY KEY,
	MARKS NUMBER(10) NOT NULL
	);
	
	CREATE TABLE EXAM_DET(
	EXAMID NUMBER (10) NOT NULL,
	AUTHOR VARCHAR (10)  NOT NULL,
	ATTEMPT NUMBER (10) NOT NULL,
	WEIGHTING VARCHAR (10) NOT NULL,
	OUTCOME VARCHAR (10) NOT NULL,
	MARKS NUMBER (10)NOT NULL,
	QID NUMBER (10) NOT NULL,
	FOREIGN KEY (EXAMID) REFERENCES EXAM(EXAMID),
	FOREIGN KEY (QID) REFERENCES QUESTIONS(QID)		
	);	
		
	CREATE TABLE COURSEWORK(
	CWID      NUMBER (10) NOT NULL PRIMARY KEY,
	MODNUM     NUMBER (10) NOT NULL,
	SYID       NUMBER (10) NOT NULL,
	LID       NUMBER (10) NOT NULL,
        FOREIGN KEY (MODNUM) REFERENCES MODULE(MODNUM),
	FOREIGN KEY (SYID) REFERENCES SEM_YEAR(SYID),
        FOREIGN KEY (LID) REFERENCES LECTURER(LID)
	);



	
	CREATE TABLE COURSEWORK_MARKS(
	CWID      NUMBER (10) NOT NULL ,
	WEIGHTING VARCHAR (10) NOT NULL,
	YID       NUMBER (10) NOT NULL,
	OUTCOME   VARCHAR (10)  NOT NULL,
   	FOREIGN KEY (CWID) REFERENCES COURSEWORK(CWID),
	FOREIGN KEY (YID) REFERENCES YEAR(YID)
	);	




	

	

	CREATE TABLE DEPT(
	DID NUMBER (10) NOT NULL PRIMARY KEY,
	DEPTNAME VARCHAR (10) NOT NULL
	);	


	CREATE TABLE STAFF(
	STAFFID NUMBER (10) NOT NULL PRIMARY KEY,
	STAFFNAME VARCHAR (10) NOT NULL,
	DID NUMBER (10) NOT NULL,
	FOREIGN KEY (DID) REFERENCES DEPT(DID)
	);

	CREATE TABLE GRADEREPORT(
	STUDENTID NUMBER (10) NOT NULL,
	SUBJECTID NUMBER (10)  NOT NULL,
	FOREIGN KEY (STUDENTID) REFERENCES STUDENT(STUDENTID),
	FOREIGN KEY (SUBJECTID) REFERENCES SUBJECT(SUBJECTID)
	);	

	CREATE TABLE SUBINMOD(
	SUBJECTID NUMBER (10) NOT NULL,
	MODNUM NUMBER (10) NOT NULL,
	OVERALLMARK NUMBER(10) NOT NULL,
	FOREIGN KEY (SUBJECTID) REFERENCES SUBJECT(SUBJECTID),
	FOREIGN KEY (MODNUM) REFERENCES MODULE(MODNUM)
	);
        






	INSERT INTO MODULE (MODNUM, MODNAME) VALUES (519, 'DATABASES');
	INSERT INTO MODULE (MODNUM, MODNAME) VALUES (506, 'SOFTENG');
	INSERT INTO MODULE (MODNUM, MODNAME) VALUES (518, 'OS');
	SELECT * FROM MODULE;


	INSERT INTO LECTURER (LID, LNAME, MODNUM) VALUES (118, 'TONY', 519);
	INSERT INTO LECTURER (LID, LNAME, MODNUM) VALUES (112, 'MUSTAFA',506 );
	INSERT INTO LECTURER (LID, LNAME, MODNUM) VALUES (113, 'WILLIAM',518);
	SELECT * FROM LECTURER;

	
	INSERT INTO YEAR (YID, YEAR) VALUES (001, '1');
	INSERT INTO YEAR (YID, YEAR) VALUES (002, '2');
	INSERT INTO YEAR (YID, YEAR) VALUES (003, '3');
	SELECT * FROM YEAR;

	INSERT INTO SEM_YEAR (SYID, SEMESTER,YID) VALUES (001, 'A',001);
	INSERT INTO SEM_YEAR (SYID, SEMESTER, YID) VALUES (003, 'B', 001);
	INSERT INTO SEM_YEAR (SYID, SEMESTER, YID) VALUES (002, 'A', 002);
	SELECT * FROM SEM_YEAR;


	
	INSERT INTO DEPT (DID, DEPTNAME) VALUES (123,'EECS');
	INSERT INTO DEPT (DID, DEPTNAME) VALUES (222,'EECS');
	INSERT INTO DEPT (DID, DEPTNAME) VALUES (324,'EECS');
	SELECT * FROM DEPT;






	INSERT INTO QUESTIONS (QID,MARKS) Values (20,40);
	INSERT INTO QUESTIONS (QID,MARKS) Values (50,100);
 	INSERT INTO QUESTIONS (QID,MARKS) Values (10,20);





	


	


	INSERT INTO DEGREE_CLASS (DEGREEID,DEGREECLASS) VALUES (5,'BSC');
	INSERT INTO DEGREE_CLASS (DEGREEID,DEGREECLASS) VALUES (6,'MSC');
	INSERT INTO DEGREE_CLASS (DEGREEID,DEGREECLASS) VALUES (7,'PHD');
	INSERT INTO SUBJECT (SUBJECTID,SUBJECTNAME) VALUES (5,'Robbing');
	INSERT INTO SUBJECT (SUBJECTID,SUBJECTNAME) VALUES (6,'Charlantry');
	INSERT INTO SUBJECT (SUBJECTID,SUBJECTNAME) VALUES (7,'Gangbanging');
	INSERT INTO SUBJECT (SUBJECTID, SUBJECTNAME) VALUES (200, 'COMPSCI');
	INSERT INTO SUBJECT (SUBJECTID, SUBJECTNAME) VALUES (300, 'ENGLISH');
	INSERT INTO SUBJECT (SUBJECTID, SUBJECTNAME) VALUES (528, 'MATHS');



	INSERT INTO STUDENT (STUDENTID,STUDENTNAME,DEGREEID,SUBJECTID) VALUES (1,'Dumbledore',5,5);
	INSERT INTO STUDENT (STUDENTID,STUDENTNAME,DEGREEID,SUBJECTID) VALUES (6,'Jumbalaya',5,6);
        INSERT INTO STUDENT (STUDENTID,STUDENTNAME,DEGREEID,SUBJECTID) VALUES (7,'Boris',5,7);
	INSERT INTO STUDENT (STUDENTID,STUDENTNAME,DEGREEID,SUBJECTID) VALUES (8,'colombo',5,5);
        INSERT INTO STUDENT (STUDENTID, STUDENTNAME, DEGREEID, SUBJECTID) VALUES (130108432, 'HUSSEIN', 5, 200); 
	INSERT INTO STUDENT (STUDENTID, STUDENTNAME, DEGREEID, SUBJECTID) VALUES (130635569, 'SAMSU', 5, 200);
	INSERT INTO STUDENT (STUDENTID, STUDENTNAME, DEGREEID, SUBJECTID) VALUES (130332768, 'KEITH', 5, 200);

	

	

	INSERT INTO SUBINMOD (SUBJECTID, MODNUM, OVERALLMARK) VALUES (200,519, 100);
	INSERT INTO SUBINMOD (SUBJECTID, MODNUM, OVERALLMARK) VALUES (200, 506, 100);
	INSERT INTO SUBINMOD (SUBJECTID, MODNUM, OVERALLMARK) VALUES (200, 518, 100);
	SELECT * FROM SUBINMOD;
	
	INSERT INTO GRADEREPORT (STUDENTID, SUBJECTID) VALUES (130108432, 200);
	INSERT INTO GRADEREPORT (STUDENTID, SUBJECTID) VALUES (130635569, 200);
	INSERT INTO GRADEREPORT (STUDENTID, SUBJECTID) VALUES (130332768, 200);
	SELECT * FROM GRADEREPORT;
		
	INSERT INTO EXAM (EXAMID, MODNUM, SYID) VALUES (519, 519,002);
	INSERT INTO EXAM (EXAMID, MODNUM, SYID) VALUES (506, 506, 002);
	INSERT INTO EXAM (EXAMID, MODNUM, SYID) VALUES (518, 518, 002);
	SELECT * FROM EXAM;

	INSERT INTO COURSEWORK(CWID,MODNUM,	SYID,LID) Values(110,519,002,118);
	INSERT INTO COURSEWORK(CWID,MODNUM,	SYID,LID) Values(111,506,002,118);
	INSERT INTO COURSEWORK(CWID,MODNUM,	SYID,LID) Values(112,518,002,112);



	INSERT INTO COURSEWORK_MARKS (CWID, WEIGHTING, YID, OUTCOME) VALUES (110,'30%',002,'PASS');
	INSERT INTO COURSEWORK_MARKS (CWID, WEIGHTING, YID, OUTCOME) VALUES (111,'20%',002,'PASS');
	INSERT INTO COURSEWORK_MARKS (CWID, WEIGHTING, YID, OUTCOME) VALUES (112,'15%',002,'FAIL');
	SELECT * FROM COURSEWORK_MARKS;

	INSERT INTO EXAM_DET (EXAMID,AUTHOR,ATTEMPT,WEIGHTING,OUTCOME,MARKS,QID) Values(519,'bob',1,'20%',50,100,20);

	INSERT INTO EXAM_DET (EXAMID,AUTHOR,ATTEMPT,WEIGHTING,OUTCOME,MARKS,QID) Values(506,'sam',1,'40%',40,60,50);	

	INSERT INTO EXAM_DET (EXAMID,AUTHOR,ATTEMPT,WEIGHTING,OUTCOME,MARKS,QID) Values(518,'bruce',1,'50%',30,100,10);
	
	SELECT * FROM EXAM_DET;
        
        


        SELECT STUDENT.*,DEGREECLASS,SUBJECTNAME FROM STUDENT , DEGREE_CLASS,SUBJECT   WHERE STUDENT.DEGREEID=DEGREE_CLASS.DEGREEID AND STUDENT.SUBJECTID=SUBJECT.SUBJECTID;
	SELECT * FROM QUESTIONS;

        SELECT SUBJECTNAME "SUBJECTS in UNIVERSITY" FROM SUBJECT;

        SELECT SUBINMOD.SUBJECTID, STUDENT.STUDENTID, STUDENT.STUDENTNAME, SUBINMOD.MODNUM, EXAM_DET.OUTCOME, EXAM_DET.MARKS FROM STUDENT INNER JOIN SUBJECT ON                 STUDENT.SUBJECTID = SUBJECT.SUBJECTID
        INNER JOIN SUBINMOD ON SUBINMOD.SUBJECTID = SUBJECT.SUBJECTID
        INNER JOIN MODULE ON MODULE.MODNUM = SUBINMOD.MODNUM
        INNER JOIN EXAM ON MODULE.MODNUM = EXAM.MODNUM
        INNER JOIN EXAM_DET ON EXAM.EXAMID = EXAM_DET.EXAMID
        WHERE STUDENT.STUDENTID = 130635569;    
        
        
       
        
        SELECT COUNT(*) AS LNAME FROM LECTURER;
        
         
 
        




	
